FROM ghcr.io/astral-sh/uv:python3.12-bookworm-slim

WORKDIR /app

# Copy pyproject.toml for dependencies
COPY pyproject.toml ./

# Install Python dependencies including dev dependencies using uv
RUN uv pip install --system -e .[dev] watchfiles

# The actual application code will be mounted as a volume
# to support hot reloading, so we don't need to COPY it here

# Command will be provided by docker-compose
EXPOSE 8888
